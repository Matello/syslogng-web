div.page-header
	h1 {{ host }} logs
		small.pull-right {{ pkg.name }} {{ pkg.version }}
	
div.muted(ng-show="!messages.length") Waiting for log messages...

div(ng-show="messages.length")

	img.trigger.pull-right.clearfix(src="/images/icon-settings.png", ng-click="toggleSettings()")
	
	div#settings.well(ng-show="showSettings")	
		h4 Settings
		div Max results:
			select.input-small(ng-model="max")
				option(value="5") 5
				option(value="10") 10
				option(value="25") 25
				option(value="50") 50
				option(value="100") 100
				
	form.form-search
		input.search-query(type="search", ng-model="search", placeholder="Realtime search...")
		
	table.table.table-striped
		thead
			tr
				td Date
				td Program
				td Priority
				td Message
		
		tbody
			tr(ng-repeat="message in filterMessages()", class="{{ getClass(message) }}")
				td(ng-bind-html-unsafe="message.DATE")
				td(ng-bind-html-unsafe="message.PROGRAM | highlight:search")
				td(ng-bind-html-unsafe="message.PRIORITY | highlight:search")
				td(ng-bind-html-unsafe="message.MESSAGE | highlight:search")
				
				
	div.pagination.pagination-centered
		ul
			li(ng-class="{'disabled': page == 1}")
				a(ng-click="prevPage()") &laquo;
			li(ng-repeat="i in pagesRange()", ng-class="{'active': i == page}")
				a(ng-click="goToPage(i)") {{ i }}
			li(ng-class="{'disabled': page == numPages}")
				a(ng-click="nextPage()") &raquo;
